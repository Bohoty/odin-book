(this["webpackJsonpodin-book"]=this["webpackJsonpodin-book"]||[]).push([[0],{48:function(e,t,a){e.exports=a(89)},53:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),l=a.n(s),c=(a(53),a(7)),i=a(8),o=a(10),u=a(9),m=a(5),p=a(3),d=a.n(p),h=a(15),E=a(6),f=a(4),b=a(23),v=a.n(b),g=function(e,t){var a={method:"post",url:e,headers:{"Content-Type":"application/json"},data:JSON.stringify(t)};return v()(a)},O=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a,n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://cool-odin-book.herokuapp.com/login",t.prev=1,t.next=4,g("https://cool-odin-book.herokuapp.com/login",e);case 4:r=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),r=t.t0.response;case 10:t.t1=r.status,t.next=200===t.t1?13:400===t.t1?15:17;break;case 13:return a({type:"LOGIN_SUCCESS",response:r}),t.abrupt("break",18);case 15:return a({type:"LOGIN_ERROR",response:r}),t.abrupt("break",18);case 17:a({type:"UNDEFIEND"});case 18:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,a){return t.apply(this,arguments)}}()};var k=Object(f.b)(null,(function(e){return{signOut:function(){return e(function(){var e=Object(h.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SIGNOUT"});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}}}))((function(e){var t=function(){var t=Object(h.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.signOut();case 3:window.location.reload(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement(E.b,{to:"#",onClick:t},"Sign Out"))),r.a.createElement("ul",{id:"slide-out",className:"sidenav"},r.a.createElement("li",null,r.a.createElement(E.b,{to:"#",className:"sidenav-close",onClick:t},"Sign Out"))),r.a.createElement("a",{href:"/","data-target":"slide-out",className:"sidenav-trigger"},r.a.createElement("i",{className:"material-icons"},"menu")))}));var N=function(){return r.a.createElement("div",null,r.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement(E.b,{to:"/signin"},"Sign In")),r.a.createElement("li",null,r.a.createElement(E.b,{to:"/signup"},"Sign Up"))),r.a.createElement("ul",{id:"slide-out",className:"sidenav"},r.a.createElement("li",null,r.a.createElement(E.b,{to:"/signin",className:"sidenav-close"},"Sign In")),r.a.createElement("li",null,r.a.createElement(E.b,{to:"/signup",className:"sidenav-close"},"Sign Up"))),r.a.createElement("a",{href:"/","data-target":"slide-out",className:"sidenav-trigger"},r.a.createElement("i",{className:"material-icons"},"menu")))};var S=Object(f.b)((function(e){return Object(m.a)({},e)}))((function(e){var t;return t=e.auth.signedUserToken?r.a.createElement(k,null):r.a.createElement(N,null),r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper green lighten-1"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:""},r.a.createElement(E.b,{to:"/",className:"brand-logo offset-l2"},"Odinbook")),r.a.createElement("div",{className:"col offset-l2"},t))))})),y=a(19),x=a(2),j=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(y.a)({},t.target.id,t.target.value))},e.handleSubmit=function(){var t=Object(h.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.props.signIn(e.state);case 3:window.location.reload(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"render",value:function(){if(console.log(this.props),null!==this.props.state.auth.signedUserToken)return r.a.createElement(x.a,{to:"/"});var e=this.props.state.auth.signInError;console.log(this.props.state);var t=e?r.a.createElement("div",null,r.a.createElement("div",{className:"center red-text"},this.props.state.auth.signInError)):null;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card z-depth-1"},r.a.createElement("div",{className:"card-title"},r.a.createElement("h4",{Style:"position:relative; left: 22px; top:22px"},"Sign In")),r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{required:!0,id:"email",type:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{required:!0,id:"password",type:"password",onChange:this.handleChange})),r.a.createElement("button",{className:"btn green lighten-1"},"Sign In")),t,r.a.createElement("div",{className:"center"},r.a.createElement("p",null,r.a.createElement(E.b,{to:"/signup"},"or create new account")))))))}}]),a}(n.Component),C=Object(f.b)((function(e){return{state:e}}),(function(e){return{signIn:function(t){return e(O(t))}}}))(j),w=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",email:"",password:""},e.handleChange=function(t){e.setState(Object(y.a)({},t.target.id,t.target.value))},e.handleSubmit=function(){var t=Object(h.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.props.signUp(e.state);case 3:return t.next=5,e.props.signIn({email:e.state.email,password:e.state.password});case 5:window.location.reload(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"render",value:function(){if(null!==this.props.state.auth.signedUserToken)return r.a.createElement(x.a,{to:"/"});var e=this.props.state.auth.signUpError?r.a.createElement("div",null,r.a.createElement("div",{className:"center red-text"},this.props.state.auth.signUpError)):null;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-title"},r.a.createElement("h4",{Style:"position:relative; left: 22px; top:22px"},"Create New Account")),r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{id:"name",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{id:"email",type:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{id:"password",type:"password",onChange:this.handleChange})),r.a.createElement("button",{className:"btn green lighten-1"},"Sign Up")),e))))}}]),a}(n.Component),U=Object(f.b)((function(e){return{state:e}}),(function(e){return{signUp:function(t){return e(function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a,n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://cool-odin-book.herokuapp.com/users",t.prev=1,t.next=4,g("https://cool-odin-book.herokuapp.com/users",e);case 4:r=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),r=t.t0.response;case 10:t.t1=r.status,t.next=200===t.t1?13:400===t.t1?15:17;break;case 13:return a({type:"SIGNUP_SUCCESS",response:r}),t.abrupt("break",18);case 15:return a({type:"SIGNUP_ERROR",response:r}),t.abrupt("break",18);case 17:a({type:"UNDEFIEND"});case 18:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))},signIn:function(t){return e(O(t))}}}))(w),I=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.match.params.id;return console.log(this.props),r.a.createElement("div",null,r.a.createElement("h1",null,"UserProfile ",e))}}]),a}(n.Component),L=a(47),_=a(30),T=a.n(_),A={content:{top:"35%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};T.a.setAppElement("body");var D=function(e){var t,a=r.a.useState(!1),n=Object(L.a)(a,2),s=n[0],l=n[1];return e.isOpen&&!s&&l(!0),r.a.createElement("div",{Style:" align-self: center; max-width:21px"},r.a.createElement(T.a,{isOpen:s,onAfterOpen:function(){t.style.color="#f00"},onRequestClose:function(){e.closeModal(),l(!1)},style:A,contentLabel:"LikesListModal"},r.a.createElement("span",{ref:function(e){return t=e}}),r.a.createElement("div",{className:""},r.a.createElement("span",{Style:"font-size:20px;"},"Likes"),r.a.createElement("span",{className:"hide-on-med-and-down"},"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),r.a.createElement("span",{className:"hide-on-large-only hide-on-small-only"},"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),r.a.createElement("span",{className:"hide-on-med-and-up"},"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),r.a.createElement("hr",{Style:"opacity: 0.5;"}),r.a.createElement("div",{Style:"font-size:20px"},r.a.createElement("a",{href:"/",className:" indigo-text darken-4"},"bullshit"),r.a.createElement("br",null),r.a.createElement("a",{href:"/",className:"indigo-text darken-4"},"bullshit"),r.a.createElement("br",null),r.a.createElement("a",{href:"/",className:"indigo-text darken-4"},"bullshit"),r.a.createElement("br",null),r.a.createElement("a",{href:"/",className:"indigo-text darken-4"},"bullshit"),r.a.createElement("br",null)))))},R=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={likeButtonColor:"grey-text text-lighten-1",likeButtonState:"Like",modalIsOpen:!1,commentContent:"",commentSectionIsOpen:!1},e.handleLikeClick=function(t){t.preventDefault(),e.setState({likeButtonColor:"grey-text text-lighten-1"===e.state.likeButtonColor?"green-text text-lighten-1":"grey-text text-lighten-1",likeButtonState:"Like"===e.state.likeButtonState?"Unlike":"Like"})},e.handleNewCommentClick=function(t){t.preventDefault(),e.setState({commentSectionIsOpen:!0})},e.openLikesList=function(){e.setState({likesListIsOpen:!0})},e.closeLikesList=function(){e.setState({likesListIsOpen:!1})},e.handleCommentChange=function(t){e.setState({commentContent:t.target.value})},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"post",className:"row"},r.a.createElement("div",{className:"col s12 m6 l6 push-l3 push-m3"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card-title black-text col s9"},r.a.createElement("div",null,r.a.createElement("span",null,this.props.authorName)),r.a.createElement("p",{className:"grey-text",Style:"font-size:15px;"},"Posted ",this.props.createdAt))),r.a.createElement("p",{Style:"font-size: 18px;"},this.props.content),r.a.createElement("div",{className:"right"},r.a.createElement("a",{onClick:this.openLikesList,href:"#"},r.a.createElement("span",{Style:"font-size:14px",className:"grey-text lighten-1"},"12 likes \xa0\xa0")),r.a.createElement("a",{href:""},r.a.createElement("span",{Style:"font-size:14px",className:"grey-text lighten-1"},"8 comments")))),r.a.createElement("div",{className:"card-action",Style:""},r.a.createElement("a",{href:"#",className:this.state.likeButtonColor,onClick:this.handleLikeClick,Title:this.state.likeButtonState},r.a.createElement("i",{className:"material-icons",onClick:this.handleLikeClick,Title:this.state.likeButtonState},"thumb_up"),r.a.createElement("span",{Style:"text-transform: none !important; position:relative; bottom: 5px"}," ","Like")),r.a.createElement("a",{href:"#",className:"blue-text lighten-1",onClick:this.handleNewCommentClick},r.a.createElement("i",{Style:"",className:"material-icons"},"short_text"),r.a.createElement("span",{Style:"text-transform: none !important; position:relative; bottom: 5px"}," ","Comment")),this.state.commentSectionIsOpen?r.a.createElement("div",{id:"new-comment"},r.a.createElement("textarea",{className:"materialize-textarea",name:"",id:"commentTextArea",placeholder:"Write a comment...",onChange:this.handleCommentChange}),r.a.createElement("button",{className:"btn-small",Style:"visibility:hidden;"}),r.a.createElement("button",{Style:"text-transform: none",className:"btn-small   right green lighten-1"},"Comment")):null))),r.a.createElement(D,{isOpen:this.state.likesListIsOpen,closeModal:this.closeLikesList}))}}]),a}(n.Component),P=Object(f.b)((function(e){return{}}),{})(R),G=a(44),B=a.n(G),z=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){this.props.getAllPosts();var e=this.props.posts,t={lastDay:"[Yesterday at] LT",sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",lastWeek:"[last] dddd [at] LT",nextWeek:"dddd [at] LT",sameElse:"L"},a=e&&e.map((function(e){return r.a.createElement(P,{key:e._id,authorName:e.user.name,createdAt:r.a.createElement(B.a,{calendar:t},e.createdAt),content:e.text})}));return r.a.createElement("div",null,a)}}]),a}(n.Component),F=Object(f.b)((function(e){return{posts:e.post.posts}}),(function(e){return{getAllPosts:function(){return e(function(){var e=Object(h.a)(d.a.mark((function e(t,a){var n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r={method:"get",url:"https://cool-odin-book.herokuapp.com/posts",headers:{Authorization:"Bearer "+n.auth.signedUserToken,"Content-Type":"application/json"}},e.prev=3,e.next=6,v()(r);case 6:s=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),s=e.t0.response;case 12:e.t1=s.status,e.next=200===e.t1?15:17;break;case 15:return t({type:"GET_ALL_POSTS_SUCCESS",posts:s.data}),e.abrupt("break",18);case 17:t({type:"GET_ALL_POSTS_FAILED_UNAUTHORIZED"});case 18:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,a){return e.apply(this,arguments)}}())}}}))(z),J=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F,null))}}]),a}(n.Component),M=Object(f.b)((function(e){return{}}),{})(J),W=(a(88),a(45)),q=a.n(W),X=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=document.querySelector("#slide-out");q.a.Sidenav.init(e,{})}},{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(S,null)),r.a.createElement(x.d,null,r.a.createElement(x.b,{exact:!0,path:"/",component:M}),r.a.createElement(x.b,{exact:!0,path:"/SignIn",component:C}),r.a.createElement(x.b,{exact:!0,path:"/SignUp",component:U}),r.a.createElement(x.b,{exact:!0,path:"/UserProfile/:id",component:I})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(18),V=a(46),Y={signedUserName:"",signedUserId:"",signedUserToken:null,signedUserEmail:"",signInError:null,signUpError:null},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{signedUserName:t.response.data.name,signedUserEmail:t.response.data.email,signedUserId:t.response.data._id,signUpError:null});case"SIGNUP_ERROR":return Object(m.a)(Object(m.a)({},e),{},{signUpError:t.response.data.errors[0]});case"LOGIN_SUCCESS":return console.log(t.response),Object(m.a)(Object(m.a)({},e),{},{signedUserEmail:t.response.data.user.email,signedUserId:t.response.data.user._id,signedUserName:t.response.data.user.name,signedUserToken:t.response.data.token});case"LOGIN_ERROR":return Object(m.a)(Object(m.a)({},e),{},{signInError:t.response.data.message});case"SIGNOUT":return Object(m.a)({},Y);default:return Object(m.a)({},e)}},$={posts:null},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_POSTS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{posts:t.posts});default:return{posts:null}}},Q=Object(H.c)({auth:Z,post:K});var ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.d,te=function(){var e=localStorage.getItem("state");if(null!==e)return JSON.parse(e)}(),ae=Object(H.e)(Q,te,ee(Object(H.a)(V.a)));ae.subscribe((function(){return function(e){var t=JSON.stringify(e);localStorage.setItem("state",t)}(ae.getState())}));var ne=ae;l.a.render(r.a.createElement(f.a,{store:ne},r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.ad03e386.chunk.js.map